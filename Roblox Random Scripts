loadstring([[
local UIS = game:GetService("UserInputService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
local camera = workspace.CurrentCamera

local DASH_SPEED = 100 -- Adjust speed if needed
local DASH_DURATION = 1.5 -- Dash lasts 1.5 seconds
local DASH_COOLDOWN = 2 -- Cooldown before dashing again you can set it on 0 if you want no cooldown
local isDashing = false

UIS.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.Q and not isDashing then
		isDashing = true
		local startTime = tick()

		-- Create BodyVelocity with high force on all axes so ground friction won't stop the dash.
		local dashVelocity = Instance.new("BodyVelocity")
		dashVelocity.MaxForce = Vector3.new(10000, 10000, 10000)
		dashVelocity.Parent = humanoidRootPart

		-- Update dash direction every frame for super-smooth rotation.
		local connection
		connection = RunService.RenderStepped:Connect(function()
			local elapsed = tick() - startTime
			if elapsed < DASH_DURATION then
				-- Use the camera's look vector for a smooth, fluid dash direction.
				local currentDirection = camera.CFrame.LookVector
				dashVelocity.Velocity = currentDirection * DASH_SPEED
			else
				connection:Disconnect()
				dashVelocity:Destroy()
				isDashing = false
				task.wait(DASH_COOLDOWN)
			end
		end)
	end
end)
]])()
